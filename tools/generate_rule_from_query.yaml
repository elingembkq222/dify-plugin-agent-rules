identity:
  name: generate_rule_from_query
  author: dify
  label:
    en_US: Generate Rule from Query
    zh_Hans: 从查询生成规则
  icon: icon.svg
description:
  human:
    en_US: Generate a rule from natural language query using LLM
    zh_Hans: 使用LLM从自然语言查询生成规则
  llm: Generate a rule from natural language query using LLM

parameters:
  - name: query
    type: string
    required: true
    label:
      en_US: Natural Language Query
      zh_Hans: 自然语言查询
    form: llm
    max_length: 1000
    human_description:
      en_US: Natural language query to convert to a rule
      zh_Hans: 要转换为规则的自然语言查询
    llm_description: Natural language query to convert to a rule
  - name: context
    type: object
    required: false
    label:
      en_US: Context Data Structure
      zh_Hans: 上下文数据结构
    form: llm
    placeholder:
      en_US: '{"key": "value"}'
      zh_Hans: '{"键": "值"}'
    human_description:
      en_US: Context data structure for the rule
      zh_Hans: 规则的上下文数据结构
  - name: rule_db_url
    type: string
    required: true
    label:
      en_US: Rule Database Link
      zh_Hans: 规则数据库链接
    form: llm
    human_description:
      en_US: URL for connecting to the rule database
      zh_Hans: 用于连接规则数据库的URL
  - name: business_db_url
    type: string
    required: true
    label:
      en_US: Business Database Link
      zh_Hans: 业务数据库链接
    form: llm
    human_description:
      en_US: URL for connecting to the business database
      zh_Hans: 用于连接业务数据库的URL
  - name: demo
    type: string
    required: true
    label:
      en_US: Demo Parameter
      zh_Hans: 演示参数
    form: llm
    human_description:
      en_US: Demo parameter for testing purposes
      zh_Hans: 用于测试目的的演示参数

extra:
  python:
    source: tools/generate_rule_from_query.py