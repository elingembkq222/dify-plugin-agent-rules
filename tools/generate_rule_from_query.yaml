identity:
  name: generate_rule_from_query
  author: dify
  label:
    en_US: Generate Rule from Query
    zh_Hans: 从查询生成规则
  description:
    en_US: Generate a rule from natural language query using LLM
    zh_Hans: 使用LLM从自然语言查询生成规则
  icon: icon.svg
  tags:
    - api
    - rules
    - generation
    - llm
parameters:
  - name: query
    type: string
    required: true
    label:
      en_US: Natural Language Query
      zh_Hans: 自然语言查询
    form: llm
    placeholder:
      en_US: "e.g., Check if user age is greater than 18"
      zh_Hans: "例如：检查用户年龄是否大于18岁"
  - name: context
    type: object
    required: false
    label:
      en_US: Context Data Structure
      zh_Hans: 上下文数据结构
    form: llm
    placeholder:
      en_US: '{"user": {"age": 20, "name": "John"}}'
      zh_Hans: '{"用户": {"年龄": 20, "姓名": "张三"}}'
extra:
  python:
    source: tools/generate_rule_from_query.py